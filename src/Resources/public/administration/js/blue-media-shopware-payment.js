!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/administration/",n(n.s="Uhfj")}({"/dYa":function(e,t){e.exports='{% block bluemedia_gateway_list %}\n<sw-page>\n    <template slot="smart-bar-header">\n        {% block bluemedia_gateway_list_header %}\n        <h2>{{ $t(\'BlueMediaPayment.gateways.pageHeader\') }}</h2>\n        {% endblock %}\n    </template>\n\n    <template #smart-bar-actions>\n        {% block bluemedia_gateway_list_actions_save %}\n        <sw-button-process\n            variant="primary"\n            :isLoading="isLoading"\n            :disabled="isLoading"\n            :processSuccess="isSaveSuccessful"\n            @click.prevent="reloadGateways">\n            {{ $t(\'BlueMediaPayment.gateways.reloadGateways\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n\n    <template slot="content">\n        {% block bluemedia_gateway_list_content %}\n        <sw-entity-listing\n            v-if="gatewayList"\n            :items="gatewayList"\n            :repository="repository"\n            :showSelection="false"\n            :columns="columns"\n            :fullPage="false"\n            :isLoading="isLoading"\n            :sortBy="sortBy"\n            :sortDirection="sortDirection"\n            :allowColumnEdit="false"\n            :allowInlineEdit="false"\n            :allow-delete="false"\n            @column-sort="onColumnSort"\n            detailRoute="blue.media.detail">\n\n            <template slot="column-type" slot-scope="{ item }">\n                {% block bluemedia_gateway_list_content_type %}\n                    {{ getTypeLabel(item.type) }}\n                {% endblock %}\n            </template>\n\n            <template #column-available="{ item }">\n                {% block bluemedia_gateway_list_content_available %}\n                    <sw-event-action-list-expand-labels\n                            v-if="item.salesChannelsActive.length"\n                            :items="item.salesChannelsActive">\n                    </sw-event-action-list-expand-labels>\n                {% endblock %}\n            </template>\n\n            <template #column-enabled="{ item }">\n                {% block bluemedia_gateway_list_content_enabled %}\n                    <sw-event-action-list-expand-labels\n                        v-if="item.salesChannelsEnabled.length"\n                        :items="item.salesChannelsEnabled">\n                    </sw-event-action-list-expand-labels>\n                {% endblock %}\n            </template>\n\n            <template #column-isSupported="{ item }">\n                {% block bluemedia_gateway_list_content_is_supported %}\n                    <sw-icon name="small-default-checkmark-line-medium"\n                             small v-if="item.isSupported"\n                             color="#1abc9c"\n                             style="margin: 0 auto;"\n                             class="is--active"></sw-icon>\n                    <sw-icon name="small-default-x-line-medium"\n                             style="margin: 0 auto;"\n                             color="#d35400"\n                             small v-else class="is--inactive"></sw-icon>\n                {% endblock %}\n            </template>\n\n        </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},"9uS6":function(e,t){e.exports='<div class="blue-media-banner">\n    <div class="bm-steps-container bm-col bm-lg-row">\n        <div class="bm-step bm-lg-col">\n            <div class="bm-row">\n                <div class="bm-step__index">1</div>\n                <div class="bm-step__content bm-col">\n                    {{ $t(\'BlueMediaPayment.startBanner.step1Text\') }}\n                    <a class="bm-link"\n                       :href="$t(\'BlueMediaPayment.startBanner.step1Link\')"\n                       target="_blank"\n                       rel="noopener"\n                    >\n                        {{ $t(\'BlueMediaPayment.startBanner.step1LinkText\') }}\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="bm-step bm-lg-col">\n            <div class="bm-row">\n                <div class="bm-step__index">2</div>\n                <div class="bm-step__content bm-col">{{ $t(\'BlueMediaPayment.startBanner.step2Text\') }}</div>\n            </div>\n        </div>\n        <div class="bm-step bm-lg-col">\n            <div class="bm-row">\n                <div class="bm-step__index">3</div>\n                <div class="bm-step__content bm-col">{{ $t(\'BlueMediaPayment.startBanner.step3Text\') }}</div>\n            </div>\n        </div>\n    </div>\n    <div class="bm-learn-more">\n        <a class="bm-link"\n           :href="$t(\'BlueMediaPayment.startBanner.learnMoreLink\')"\n           target="_blank"\n           rel="noopener"\n        >\n            {{ $t(\'BlueMediaPayment.startBanner.learnMoreLinkText\') }}\n        </a>\n        {{ $t(\'BlueMediaPayment.startBanner.learnMoreText\') }}\n    </div>\n</div>'},M3tZ:function(e,t,n){},O3DF:function(e,t){e.exports='{% block sw_condition_value_content %}\n    <sw-single-select name="autopay-rule"\n                      id="autopay-rule"\n                      size="medium"\n                      :options="selectValues"\n                      v-model="paymentHandler"\n                      class="field--main">\n    </sw-single-select>\n{% endblock %}'},OrcA:function(e,t){e.exports='<div class="blue-media-banner">\n    <div class="bm-margin-bottom">\n        {{ $t(\'BlueMediaPayment.testModeBanner.testModeLine1\') }}<br/>\n        {{ $t(\'BlueMediaPayment.testModeBanner.testModeLine2\') }}\n\n        <a class="bm-link"\n           :href="$t(\'BlueMediaPayment.testModeBanner.contactUsLink\')"\n           target="_blank"\n           rel="noopener"\n        >\n            {{ $t(\'BlueMediaPayment.testModeBanner.contactUsLinkText\') }}\n        </a>\n    </div>\n</div>'},SZ7m:function(e,t,n){"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],o=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,i){c=n,d=i||{};var o=a(e,t);return f(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(l=r[s.id]).refs--,n.push(l)}t?f(o=a(e,t)):o=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(g(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(g(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function b(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,n,a=document.querySelector("style["+p+'~="'+e.id+'"]');if(a){if(c)return u;a.parentNode.removeChild(a)}if(y){var i=l++;a=s||(s=b()),t=v.bind(null,a,i,!1),n=v.bind(null,a,i,!0)}else a=b(),t=k.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var w,h=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function v(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function k(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},Uhfj:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,a,c,u,d=l(p);function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"test";return r(this,p),d.call(this,e,t,n)}return t=p,(n=[{key:"verifyCredentials",value:(c=regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.client.post("_action/blue-payment/test-credentials",{testMode:null==t?void 0:t.testMode,serviceId:null==t?void 0:t.serviceId,sharedKey:null==t?void 0:t.sharedKey,hashAlgo:null==t?void 0:t.hashAlgo,gatewayUrl:null==t?void 0:t.gatewayUrl,testGatewayUrl:null==t?void 0:t.testGatewayUrl},{headers:this.getBasicHeaders()});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=c.apply(e,t);function o(e){i(r,n,a,o,s,"next",e)}function s(e){i(r,n,a,o,s,"throw",e)}o(void 0)}))},function(){return u.apply(this,arguments)})}])&&o(t.prototype,n),a&&o(t,a),p}(Shopware.Classes.ApiService);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(s,e);var t,n,a,i,r,o=g(s);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return m(this,s),o.call(this,e,t,n)}return t=s,(n=[{key:"sendSyncGatewaysRequest",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.post("_action/blue-payment/sync-gateways",{},{headers:this.getBasicHeaders()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=i.apply(e,t);function o(e){y(r,n,a,o,s,"next",e)}function s(e){y(r,n,a,o,s,"throw",e)}o(void 0)}))},function(){return r.apply(this,arguments)})}])&&f(t.prototype,n),a&&f(t,a),s}(Shopware.Classes.ApiService),k=Shopware,_=k.Application,P=k.Service,S=_.getContainer("init");P().register("blueMediaConfigurationService",(function(e){return new d(S.httpClient,e.loginService)})),P().register("blueMediaGatewaySyncService",(function(e){return new v(S.httpClient,e.loginService)}));var M=n("O3DF"),B=n.n(M);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.extend("autopay-rule","sw-condition-base",{template:B.a,computed:{selectValues:function(){return[{label:"DetailedPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\DetailedPaymentHandler"},{label:"PayByLinkPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\PayByLinkPaymentHandler"},{label:"QuickTransferPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\QuickTransferPaymentHandler"},{label:"ApplePayPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\ApplePayPaymentHandler"},{label:"CardPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\CardPaymentHandler"},{label:"BlikPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\BlikPaymentHandler"},{label:"GooglePayPaymentHandler",value:"BlueMedia\\ShopwarePayment\\PaymentHandler\\GooglePayPaymentHandler"}]},paymentHandler:{get:function(){return this.ensureValueExist(),null==this.condition.value.paymentHandler&&(this.condition.value.paymentHandler="BlueMedia\\ShopwarePayment\\PaymentHandler\\DetailedPaymentHandler"),this.condition.value.paymentHandler},set:function(e){this.ensureValueExist(),this.condition.value=x(x({},this.condition.value),{},{paymentHandler:e})}}}}),Shopware.Application.addServiceProviderDecorator("ruleConditionDataProviderService",(function(e){return e.addCondition("blue_media_rule",{component:"autopay-rule",label:"Is any Autopay Gateway Avaliable",scopes:["global"]}),e}));n("sQ0d");var A=n("tJDg"),O=n.n(A);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){for(var t,n,a,i;!e.actualConfigData;)e=e.$parent;return $($({},(null===(t=e)||void 0===t||null===(n=t.actualConfigData)||void 0===n?void 0:n.null)||{}),D(null===(a=e)||void 0===a||null===(i=a.actualConfigData)||void 0===i?void 0:i[e.currentSalesChannelId])||{})},D=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=j(e,2);t[0];return null!==t[1]})))},N=function(e,t){var n=[{value:"Szybki Przelew",key:"BlueMediaPayment.typeLabels.quickTransfer"},{value:"PBL",key:"BlueMediaPayment.typeLabels.payByLink"},{value:"Raty online",key:"BlueMediaPayment.typeLabels.onlineInstallments"},{value:"BLIK",key:"BlueMediaPayment.typeLabels.blik"},{value:"Portfel elektroniczny",key:"BlueMediaPayment.typeLabels.electronicWallet"},{value:"Płatność automatyczna",key:"BlueMediaPayment.typeLabels.automaticPayment"},{value:"Karta płatnicza",key:"BlueMediaPayment.typeLabels.creditCard"}].find((function(t){return t.value===e}));return void 0===n?e.concat(" [",t.$t("BlueMediaPayment.typeLabels.unknown"),"]"):t.$t(n.key)};function G(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}var R=Shopware,H=R.Component,U=R.Mixin;H.register("autopay-api-key-validator",{inject:["blueMediaConfigurationService"],mixins:[U.getByName("notification")],template:O.a,data:function(){return{success:null,isLoading:!1}},computed:{pluginConfig:function(){return E(this.$parent)},variant:function(){return"boolean"==typeof this.success?this.success?"success":"danger":"neutral"},color:function(){return"boolean"==typeof this.success?this.success?"lightgreen":"red":"gray"},message:function(){return"boolean"==typeof this.success?this.success?this.$t("BlueMediaPayment.configuration.verifyCredentials.credentialsCorrect"):this.$t("BlueMediaPayment.configuration.verifyCredentials.credentialsIncorrect"):this.$t("BlueMediaPayment.configuration.verifyCredentials.verifyCredentialsInitial")}},methods:{verify:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,n={testMode:t.pluginConfig["BlueMediaShopwarePayment.config.testMode"],serviceId:t.pluginConfig["BlueMediaShopwarePayment.config.serviceId"],sharedKey:t.pluginConfig["BlueMediaShopwarePayment.config.sharedKey"],hashAlgo:t.pluginConfig["BlueMediaShopwarePayment.config.hashAlgo"],gatewayUrl:t.pluginConfig["BlueMediaShopwarePayment.config.gatewayUrl"],testGatewayUrl:t.pluginConfig["BlueMediaShopwarePayment.config.testGatewayUrl"]},e.next=5,t.blueMediaConfigurationService.verifyCredentials(n);case 5:if(null!=(a=e.sent)&&a.data&&"boolean"==typeof a.data.success){e.next=8;break}throw new Error(t.$t("BlueMediaPayment.configuration.verifyCredentials.couldNotVerify"));case 8:t.success=a.data.success,t.notify(),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),i=e.t0.message,console.error(i),t.notify(t.$t("BlueMediaPayment.configuration.verifyCredentials.couldNotVerify")),t.success=void 0;case 18:return e.prev=18,t.isLoading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,12,18,21]])})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){G(r,a,i,o,s,"next",e)}function s(e){G(r,a,i,o,s,"throw",e)}o(void 0)}))})()},notify:function(e){this["createNotification".concat(this.success?"Success":"Error")].call(this,{message:e||this.message})}}});var V=n("9uS6"),Z=n.n(V);Shopware.Component.register("autopay-start-banner",{template:Z.a,data:function(){return{pluginConfig:{}}},computed:{cardVisible:function(){return!1===this.pluginConfig["BlueMediaShopwarePayment.config.enabled"]},parentCard:function(){for(var e=this.$parent;"sw-card"!==e.$options.name;)e=e.$parent;return e}},mounted:function(){this.loadConfig(),this.handleCardVisibility()},methods:{loadConfig:function(){this.pluginConfig=E(this.$parent)},handleCardVisibility:function(){this.parentCard.$el.style.display=this.cardVisible?"":"none"}}});var K=n("OrcA"),F=n.n(K);Shopware.Component.register("autopay-test-mode-banner",{template:F.a});n("hhRK");var W=n("/dYa"),q=n.n(W);function J(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}var Q=Shopware,Y=Q.Component,X=Q.Mixin,ee=Shopware.Data.Criteria;Y.register("autopay-gateways",{template:q.a,inject:["repositoryFactory","blueMediaGatewaySyncService"],mixins:[X.getByName("notification")],data:function(){return{repository:null,gatewayList:null,isLoading:!1,isSaveSuccessful:!1,sortEnable:!0,sortBy:"gatewayId",sortDirection:"ASC",columns:[{property:"id",visible:!1},{property:"gatewayId",label:this.$t("BlueMediaPayment.gateways.fields.gatewayId"),align:"center",width:"50px",allowResize:!0},{property:"name",label:this.$t("BlueMediaPayment.gateways.fields.name"),allowResize:!0,width:"150px"},{property:"description",label:this.$t("BlueMediaPayment.gateways.fields.description"),allowResize:!0,width:"200px",visible:!1},{property:"type",label:this.$t("BlueMediaPayment.gateways.fields.type"),allowResize:!0,visible:!0},{property:"bankName",label:this.$t("BlueMediaPayment.gateways.fields.bankName"),visible:!0,allowResize:!0},{property:"available",dataIndex:"salesChannelsActive",width:"150px",label:this.$t("BlueMediaPayment.gateways.fields.available"),sortable:!1,allowResize:!0},{property:"enabled",dataIndex:"salesChannelsEnabled",width:"150px",label:this.$t("BlueMediaPayment.gateways.fields.enabled"),sortable:!1,allowResize:!0},{property:"isSupported",label:this.$t("BlueMediaPayment.gateways.fields.isSupported"),visible:!1,sortable:!1,allowResize:!0},{property:"createdAt",label:this.$t("BlueMediaPayment.gateways.fields.createdAt"),allowResize:!0,visible:!1},{property:"updatedAt",label:this.$t("BlueMediaPayment.gateways.fields.updatedAt"),allowResize:!0,visible:!1}]}},created:function(){this.createdComponent(),this.getList()},methods:{createdComponent:function(){this.repository=this.repositoryFactory.create("blue_media_gateway")},getList:function(){var e=this;this.isLoading=!0;var t=new ee;t.addAssociation("salesChannelsActive").addAssociation("salesChannelsEnabled"),this.repository.search(t,Shopware.Context.api).then((function(t){e.isLoading=!1,e.gatewayList=e.sortList(t)}))},getTypeLabel:function(e){return N(e,this)},sortList:function(e){var t=this;return e.sort((function(e,n){return e[t.sortBy]>n[t.sortBy]?"ASC"===t.sortDirection?1:-1:e[t.sortBy]<n[t.sortBy]?"ASC"===t.sortDirection?-1:1:0}))},onColumnSort:function(){this.sortEnable&&(this.sortEnable=!1)},reloadGateways:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.blueMediaGatewaySyncService.sendSyncGatewaysRequest();case 4:if(null!=(n=e.sent)&&n.data&&!0===n.data.success){e.next=7;break}throw new Error(t.$t("global.notification.unspecifiedSaveErrorMessage"));case 7:t.createNotificationSuccess({title:t.$t("BlueMediaPayment.gateways.success"),message:t.$t("BlueMediaPayment.gateways.reloadSuccessMessage")}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a=e.t0.message,t.createNotificationError({title:t.$t("global.default.error"),message:a});case 14:return e.prev=14,t.getList(),t.isLoading=!1,e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[1,10,14,18]])})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){J(r,a,i,o,s,"next",e)}function s(e){J(r,a,i,o,s,"throw",e)}o(void 0)}))})()}}});var te=n("UlRx"),ne=n.n(te),ae=Shopware,ie=ae.Component,re=ae.Mixin,oe=Shopware.Data.Criteria;ie.register("autopay-gateways-detail",{template:ne.a,inject:["repositoryFactory"],mixins:[re.getByName("notification")],metaInfo:function(){return{title:this.$createTitle()}},data:function(){return{gateway:null,isLoading:!1,processSuccess:!1}},computed:{repository:function(){return this.repositoryFactory.create("blue_media_gateway")},gatewayCriteria:function(){var e=new oe;return e.addAssociation("salesChannelsActive").addAssociation("salesChannelsEnabled").addAssociation("logoMedia"),e}},created:function(){this.getGateway()},methods:{getGateway:function(){var e=this;this.repository.get(this.$route.params.id,Shopware.Context.api,this.gatewayCriteria).then((function(t){e.gateway=t,e.setMedia(t.logoMedia)}))},getTypeLabel:function(e){return N(e,this)},setMedia:function(e){this.gateway.media=e},setSalesChannelsEnabled:function(e){this.gateway.salesChannelsEnabled=e},onClickSave:function(){var e=this;this.isLoading=!0,this.repository.save(this.gateway,Shopware.Context.api).then((function(){e.getGateway(),e.isLoading=!1,e.processSuccess=!0,e.createNotificationSuccess({title:e.$t("BlueMediaPayment.gateways.success"),message:e.$t("BlueMediaPayment.gateways.saveSuccessMessage")})})).catch((function(t){e.isLoading=!1,e.createNotificationError({title:e.$t("global.default.error"),message:t})}))},saveFinish:function(){this.processSuccess=!1}}});var se=n("V1A8"),le=n("sCOt"),ce=n("qZAF");Shopware.Module.register("blue-media",{type:"plugin",name:"Autopay",title:"BlueMediaPayment.menu.mainMenuLabel",description:"BlueMediaPayment.moduleDescription",color:"#0C73BD",icon:"default-money-wallet",snippets:{"en-GB":se,"de-DE":le,"pl-PL":ce},routes:{gateways:{component:"autopay-gateways",path:"gateways",meta:{privilege:"blue_media_gateway.viewer"}},detail:{component:"autopay-gateways-detail",path:"detail/:id",meta:{privilege:"blue_media_gateway.viewer"}}},navigation:[{id:"autopay-gateways",path:"blue.media.gateways",label:"BlueMediaPayment.menu.gatewaysLabel",parent:"sw-order"}]})},UlRx:function(e,t){e.exports='{% block bluemedia_gateway_detail %}\n<sw-page class="blue-media-gateway-detail">\n\n    <template slot="smart-bar-actions">\n        {% block bluemedia_gateway_detail_smart_bar_actions_cancel %}\n        <sw-button :routerLink="{ name: \'blue.media.gateways\' }">\n            {{ $t(\'sw-settings-rule.detail.buttonCancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        {% block bluemedia_gateway_detail_smart_bar_save %}\n        <sw-button-process\n            :isLoading="isLoading"\n            :processSuccess="processSuccess"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click="onClickSave">\n            {{ $t(\'sw-settings-rule.detail.buttonSave\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n\n    <template slot="content">\n        {% block bluemedia_gateway_detail_content %}\n        <sw-card-view>\n            <sw-card v-if="gateway" :isLoading="isLoading">\n                {% block bluemedia_gateway_detail_content_title %}\n                <sw-container>\n                    <h1><strong>{{ gateway.name }}</strong></h1>\n                </sw-container>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_container_is_supported %}\n                    <sw-alert\n                            v-if="gateway.isSupported === false"\n                            variant="warning"\n                    >\n                        {{ $t(\'BlueMediaPayment.detail.notSupportedMessage\') }}\n                    </sw-alert>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_container_name_type %}\n                    <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0px 30px">\n\n                        {% block bluemedia_gateway_detail_content_gateway_name %}\n                            <sw-field :label="$t(\'BlueMediaPayment.detail.name\')"\n                                      v-model="gateway.name"\n                                      disabled></sw-field>\n                        {% endblock %}\n\n                        {% block bluemedia_gateway_detail_content_gateway_type %}\n                            <sw-field :label="$t(\'BlueMediaPayment.detail.type\')"\n                                      :value="getTypeLabel(gateway.type)"\n                                      disabled></sw-field>\n                        {% endblock %}\n\n                    </sw-container>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_container_id_name %}\n                    <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0px 30px">\n                        {% block bluemedia_gateway_detail_content_gateway_id %}\n                            <sw-field :label="$t(\'BlueMediaPayment.detail.gatewayId\')"\n                                      :value="gateway.gatewayId"\n                                      disabled></sw-field>\n                        {% endblock %}\n\n                        {% block bluemedia_gateway_detail_content_bank_name %}\n                            <sw-field :label="$t(\'BlueMediaPayment.gateways.fields.bankName\')"\n                                      :value="gateway.bankName"\n                                      disabled></sw-field>\n                        {% endblock %}\n                    </sw-container>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_gateway_active %}\n                    <sw-entity-many-to-many-select\n                            :label="$t(\'BlueMediaPayment.gateways.fields.available\')"\n                            v-model="gateway.salesChannelsActive"\n                            localMode="true"\n                            disabled>\n                    </sw-entity-many-to-many-select>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_gateway_enable %}\n                    <sw-entity-multi-select\n                            :label="$t(\'BlueMediaPayment.gateways.fields.enabled\')"\n                            :entityCollection="gateway.salesChannelsEnabled"\n                            @change="setSalesChannelsEnabled">\n                    </sw-entity-multi-select>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_gateway_description %}\n                    <sw-textarea-field :label="$t(\'BlueMediaPayment.detail.description\')"\n                                       v-model="gateway.description"\n                                       type="textarea"\n                                       disabled></sw-textarea-field>\n                {% endblock %}\n\n\n                {% block bluemedia_gateway_detail_content_media_upload %}\n                    <sw-media-upload-v2 class="sw-field"\n                        :scroll-target="$parent.$el"\n                        :source="gateway.media"\n                        :allow-multi-select="false"\n                        :default-folder="\'product\'"\n                        :upload-tag="gateway.id"\n                        :label="$t(\'BlueMediaPayment.detail.logo\')"\n                        variant="regular"\n                        disabled></sw-media-upload-v2>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_created_at %}\n                    <sw-field :label="$t(\'BlueMediaPayment.gateways.fields.createdAt\')"\n                              :value="gateway.createdAt"\n                              :disabled="true"></sw-field>\n                {% endblock %}\n\n                {% block bluemedia_gateway_detail_content_updated_at %}\n                    <sw-field :label="$t(\'BlueMediaPayment.gateways.fields.updatedAt\')"\n                              :value="gateway.updatedAt"\n                              :disabled="true"></sw-field>\n                {% endblock %}\n            </sw-card>\n        </sw-card-view>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},V1A8:function(e){e.exports=JSON.parse('{"BlueMediaPayment":{"moduleDescription":"Autopay Online Payment","menu":{"mainMenuLabel":"Autopay Gateways","gatewaysLabel":"Autopay Gateways"},"gateways":{"pageHeader":"Autopay Gateways","fields":{"gatewayId":"Gateway ID","name":"Name","description":"Description","type":"Type","bankName":"Bank Name","available":"Available Sales Channels","enabled":"Enabled","isSupported":"Is Supported","createdAt":"Created At","updatedAt":"Updated At"},"success":"Success","error":"Error","reloadGateways":"Synchronize gateways","reloadSuccessMessage":"Synchronization has been scheduled","saveSuccessMessage":"Save success"},"detail":{"gatewayId":"Gateway ID","name":"Name","description":"Description","type":"Type","bankName":"Bank Name","available":"Available Sales Channels","enabled":"Enabled","logo":"Gateway logo","createdAt":"Created At","updatedAt":"Updated At","notSupportedMessage":"It seems that currently this payment gateway is not supported, please update the plugin to a newer version."},"typeLabels":{"unknown":"Not yet supported","quickTransfer":"Quick Transfer","payByLink":"Pay by link","onlineInstallments":"Online installments","blik":"BLIK","electronicWallet":"Electronic wallet","automaticPayment":"Automatic payment","creditCard":"Credit card"},"mainMenuItemGeneral":"Autopay Payments","configuration":{"verifyCredentials":{"verifyCredentials":"Verify credentials","verifyCredentialsInitial":"","credentialsCorrect":"Credentials are correct","credentialsIncorrect":"Credentials are incorrect","couldNotVerify":"Verification failed"}},"startBanner":{"step1Text":"Create a free account on the site.","step1Link":"https://platnosci.bm.pl/?pk_campaign=shopware_panel&pk_source=shopware_panel&pk_medium=cta","step1LinkText":"Sign up","step2Text":"Enter your company details and confirm them with a verification transfer.","step3Text":"Set up payments in your store.","learnMoreLink":"https://developers.bluemedia.pl/online/wdrozenie-krok-po-kroku?mtm_campaign=shopware_developers_aktywacja_platnosci&mtm_source=shopware_backend&mtm_medium=hyperlink","learnMoreLinkText":"Learn more","learnMoreText":"about the implementation of payments in your store."},"testModeBanner":{"contactUsLink":"https://developers.bluemedia.pl/kontakt?mtm_campaign=cscart_developers_formularz&mtm_source=cscart_backoffice&mtm_medium=hiperlink","contactUsLinkText":"please contact us.","testModeLine1":"The site ID and hash key for the test environment are different from the production data.","testModeLine2":"To obtain data for the test environment,"}},"sw-privileges":{"permissions":{"blue_media_gateways":{"label":"Autopay Gateways"}}}}')},hhRK:function(e,t,n){var a=n("M3tZ");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("47487976",a,!0,{})},qZAF:function(e){e.exports=JSON.parse('{"BlueMediaPayment":{"moduleDescription":"Płatności Autopay","menu":{"mainMenuLabel":"Autopay Bramki","gatewaysLabel":"Autopay Bramki"},"gateways":{"pageHeader":"Autopay Bramki Płatności","fields":{"gatewayId":"ID Bramki","name":"Nazwa","description":"Opis","type":"Typ","bankName":"Nazwa Banku","available":"Dostępne Kanały Sprzedaży","enabled":"Włączona","isSupported":"Wspierana","createdAt":"Utworzono o","updatedAt":"Zaktualizowano o "},"success":"Powodzenie","error":"Bład","reloadGateways":"Synchronizuj bramki","reloadSuccessMessage":"Zaplanowano synchronizację","saveSuccessMessage":"Zapis powiódł się"},"detail":{"gatewayId":"ID Bramki","name":"Nazwa","description":"Opis","type":"Typ","bankName":"Nazwa Banku","available":"Dostępne Kanały Sprzedaży","enabled":"Włączona","logo":"Logo bramki","createdAt":"Utworzono o","updatedAt":"Zaktualizowano o ","notSupportedMessage":"Wygląda na to że aktualnie ta bramka płatności jest nie wspierana, zaktualizuj plugin do nowszej wersji."},"typeLabels":{"unknown":"Jeszcze nieobsługiwane","quickTransfer":"Szybki przelew","payByLink":"Zapłać linkiem","onlineInstallments":"Raty internetowe","blik":"BLIK","electronicWallet":"Portfel elektroniczny","automaticPayment":"Płatność automatyczna","creditCard":"Karta kredytowa"},"mainMenuItemGeneral":"Płatności Autopay","configuration":{"verifyCredentials":{"verifyCredentials":"Zweryfikuj poświadczenia","verifyCredentialsInitial":"","credentialsCorrect":"Poświadczenia są prawidłowe","credentialsIncorrect":"Poświadczenia są nieprawidłowe","couldNotVerify":"Weryfikacja się nie powiodła"}},"startBanner":{"step1Text":"Załóż darmowe konto w serwisie.","step1Link":"https://platnosci.bm.pl/?pk_campaign=shopware_panel&pk_source=shopware_panel&pk_medium=cta","step1LinkText":"Zarejestruj się","step2Text":"Podaj dane Twojej firmy i potwierdź je przelewem weryfikacyjnym.","step3Text":"Skonfiguruj płatności w swoim sklepie.","learnMoreLink":"https://developers.bluemedia.pl/online/wdrozenie-krok-po-kroku?mtm_campaign=shopware_developers_aktywacja_platnosci&mtm_source=shopware_backend&mtm_medium=hyperlink","learnMoreLinkText":"Dowiedz się więcej","learnMoreText":"o wdrożeniu płatności w Twoim sklepie."},"testModeBanner":{"contactUsLink":"https://developers.bluemedia.pl/kontakt?mtm_campaign=cscart_developers_formularz&mtm_source=cscart_backoffice&mtm_medium=hiperlink","contactUsLinkText":"skontaktuj się z nami.","testModeLine1":"Identyfikator serwisu i klucz hash dla środowiska testowego różnią się od danych produkcyjnych.","testModeLine2":"Żeby uzyskać dane do środowiska testowego,"}},"sw-privileges":{"permissions":{"blue_media_gateways":{"label":"Autopay Bramki Płatności"}}}}')},sCOt:function(e){e.exports=JSON.parse('{"BlueMediaPayment":{"moduleDescription":"Autopay Online-Zahlung","menu":{"mainMenuLabel":"Autopay Gateways","gatewaysLabel":"Autopay Gateways"},"gateways":{"pageHeader":"Autopay Gateways","fields":{"gatewayId":"Gateway-ID","name":"Name","description":"Beschreibung","type":"Typ","bankName":"Bank Name","available":"Verfügbare Vertriebskanäle","enabled":"Ermöglicht","isSupported":"Wird Unterstützt","createdAt":"Hergestellt in","updatedAt":"Aktualisiert am"},"success":"Erfolg","error":"Fehler","reloadGateways":"Gateways synchronisieren","reloadSuccessMessage":"Die Synchronisierung wurde geplant","saveSuccessMessage":"Save Success"},"detail":{"gatewayId":"Gateway-ID","name":"Name","description":"Beschreibung","type":"Typ","bankName":"Bank Name","available":"Verfügbare Vertriebskanäle","enabled":"Ermöglicht","logo":"Gateway-Logo","createdAt":"Hergestellt in","updatedAt":"Aktualisiert am","notSupportedMessage":"Es scheint, dass dieses Zahlungsgateway derzeit nicht unterstützt wird, bitte aktualisieren Sie das Plugin auf eine neuere Version."},"typeLabels":{"unknown":"Noch nicht unterstützt","quickTransfer":"Schnelle Übertragung","payByLink":"Per Link bezahlen","onlineInstallments":"Online Ratenzahlung","blik":"BLIK","electronicWallet":"Elektronische Geldbörse","automaticPayment":"Automatische Zahlung","creditCard":"Kreditkarte"},"mainMenuItemGeneral":"Autopay-Zahlungen","configuration":{"verifyCredentials":{"verifyCredentials":"Bestätigen Sie die Anmeldeinformationen","verifyCredentialsInitial":"","credentialsCorrect":"Anmeldeinformationen sind korrekt","credentialsIncorrect":"Anmeldeinformationen sind falsch","couldNotVerify":"Anmeldedaten konnten nicht verifiziert werden"}},"startBanner":{"step1Text":"Erstellen Sie ein kostenloses Konto auf der Seite.","step1Link":"https://platnosci.bm.pl/?pk_campaign=shopware_panel&pk_source=shopware_panel&pk_medium=cta","step1LinkText":"Anmelden","step2Text":"Geben Sie Ihre Firmendaten ein und bestätigen Sie diese mit einer Verifizierungsübertragung.","step3Text":"Zahlungen in Ihrem Shop einrichten.","learnMoreLink":"https://developers.bluemedia.pl/online/wdrozenie-krok-po-kroku?mtm_campaign=shopware_developers_aktywacja_platnosci&mtm_source=shopware_backend&mtm_medium=hyperlink","learnMoreLinkText":"Mehr erfahren","learnMoreText":"über die Implementierung von Zahlungen in Ihrem Geschäft."},"testModeBanner":{"contactUsLink":"https://developers.bluemedia.pl/kontakt?mtm_campaign=cscart_developers_formularz&mtm_source=cscart_backoffice&mtm_medium=hiperlink","contactUsLinkText":"kontaktieren Sie uns bitte.","testModeLine1":"Die Standort-ID und der Hash-Schlüssel für die Testumgebung unterscheiden sich von den Produktionsdaten.","testModeLine2":"Um Daten für die Testumgebung zu erhalten,"}},"sw-privileges":{"permissions":{"blue_media_gateways":{"label":"Autopay Gateways"}}}}')},sQ0d:function(e,t){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"blue_media_gateways",roles:{viewer:{privileges:["blue_media_gateway:read"],dependencies:[]},editor:{privileges:["blue_media_gateway:update"],dependencies:[]},creator:{privileges:["blue_media_gateway:create"],dependencies:[]},deleter:{privileges:["blue_media_gateway:delete"],dependencies:[]}}})},tJDg:function(e,t){e.exports='<div class="autopay-api-key-validator">\n    <sw-button-process\n        :processSuccess="!!success"\n        :isLoading="isLoading"\n        @click="verify()"\n    >\n        {{ $t(\'BlueMediaPayment.configuration.verifyCredentials.verifyCredentials\') }}\n    </sw-button-process>\n    <sw-label\n        :variant="variant"\n    >\n        <sw-color-badge\n            :color="color"\n        ></sw-color-badge>\n        {{ message }}\n    </sw-label>\n</div>\n'}});